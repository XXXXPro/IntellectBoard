= Обновление Intellect Board

== Обновление с версий 2.x
ВНИМАНИЕ! Intellect Board 3.x не предназначен для установки поверх Intellect Board 2.x и не может использовать его базу данных. Для перехода с версии 2.x нужен специальный конвертор, 
скачать который можно в этой теме: http://intbpro.ru/convertors/intb_2_22/

Тем, кто обновляется с версии 3.00 beta 1, необходимо выполнить ряд SQL-запросов, описанных в этой теме: http://intbpro.ru/support-300/46/

== Обновление с версий 3.00 и 3.02 до 3.05

Обновление Intellect Board с версии 3.02 выполняется следующим образом:

1) Сделайте резервную копию базы данных, и всех файлов настроек (каталог etc). Если есть возможность, то и вообще всего форума.
2) Удалите из подкаталога www все файлы с расширением .php (многие из них в версии 3.05 больше не используются).
3) С версии 3.05 файл etc/htaccess.txt использоваться не будет, поэтому если вы прописывали туда какие-то нестандартные настройки, перенесите их в etc/routes.txt, убрав строку RewriteRule в начале, а также модификаторы (вроде [L,QSA]) в конце.
4) Пропишите в файле etc/ib_config.php строку
```define('DB_structure_version','102');```
5) (если обновляетесь с 3.01 или 3.00, пропишите 101 и 100 соответственно).
6) Удалите каталог opt/Twig (форум при этом перестанет работать, это нормально).
7) Загрузите версию 3.05 на сервер (если есть SSH-доступ, имеет смысл загрузить архив и распаковать его прямо на сервере командой unzip, это быстрее, чем грузить множество мелких файлов по FTP/SFTP).
8) Убедитесь, что у пользователя, от имени которого происходит подключение к БД, есть права выполнять запросы вида ALTER TABLE.
9) Запустите install.php (http://ваш.домен/путь_к_IntB/install.php). Выберите пункт «Обновить предыдущую версию Intellect Board» и выполните все необходимые действия.
10) После выполнения обновления вы окажетесь в Центре Администрирования. Выберите в меню пункт «Сброс кеша».
11) Отредактируйте любой раздел, чтобы заново сгенерировать файл etc/routes.cfg.
12) Удалите старый файл www/.htaccess и переименуйте www/htaccess.def в www/.htaccess

При обновлении с версии 3.00 есть ряд особенностей, описанных в этой теме: https://intbpro.ru/support-302/update-3-02/

Если вы устанавливали версию 3.05 RC 1, то тоже необходимо запустить install.php в режиме обновления, так как базе данных появились некоторые изменения.
